import cyberpi
import event
import mbot2

# connect to WiFi
cyberpi.wifi.connect("iPhone Home", "Dupree12$")
while not cyberpi.wifi.is_connect():
 pass

# Connection to WiFi is established at this point
# So, print connected! on the display
cyberpi.console.println('Connected!')

player_name = cyberpi.set_name("Jimmy The Hero")

cyberpi.display.clear(), cyberpi.display.show_label(cyberpi.get_name(), 100, "center")

@event.mesh_broadcast('up')
def on_mesh_broadcast():
    mbot2.forward()
   
@event.mesh_broadcast('down')
def on_mesh_broadcast():
    mbot2.backward()
     
@event.mesh_broadcast('left')
def on_mesh_broadcast():
    mbot2.turn_left()
    
@event.mesh_broadcast('right')
def on_mesh_broadcast():
    mbot2.turn_right()
    
@event.mesh_broadcast('middle')
def on_mesh_broadcast():
    mbot2.forward(0)
    
@event.mesh_broadcast('a')
def on_mesh_broadcast():
    mbot2.forward(100)
     
@event.mesh_broadcast('stop')
def on_mesh_broadcast():
    mbot2.forward(0)
    mbot2.turn_right(0)
    mbot2.turn_left(0)
    mbot2.backward(0)

